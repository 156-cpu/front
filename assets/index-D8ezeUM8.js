import{_ as Y,u as F,o as S,r as m,U as T,e as A,f,g as t,h as b,i as g,P as I,w as a,v as U,x as j,n as z,j as s,s as O,E as q,V as H,t as h,d as L,k as R,A as y,W,X,p as $,q as G,Y as J}from"./index-DYDLG9O-.js";const K={class:"order-container"},Q={class:"form"},Z={style:{display:"flex","align-items":"center"}},tt={class:"pagination-info"},et={__name:"index",setup(at){const v=F();S(()=>{c()});const r=m({out_trade_no:""}),_=m({pageNum:1,pageSize:10}),i=m({list:[],total:0}),x=()=>{console.log(r),c(r)},c=n=>{T({..._,...n}).then(({data:l})=>{const{list:d,total:p}=l.data;i.list=d,i.total=p})},E=n=>({已取消:"info",待支付:"warning",已完成:"success"})[n],k=n=>{J({id:n}).then(({data:l})=>{c()})},C=n=>{_.pageNum=n,c()};return(n,l)=>{const d=I,p=j,w=U,u=z,N=O,o=q,V=H,P=R,B=W,D=$,M=G;return f(),A("div",K,[t(d,{info:g(v)},null,8,["info"]),b("div",Q,[t(N,{model:r,inline:!0},{default:a(()=>[t(w,{prop:"out_trade_no"},{default:a(()=>[t(p,{modelValue:r.out_trade_no,"onUpdate:modelValue":l[0]||(l[0]=e=>r.out_trade_no=e),placeholder:"订单号",autocomplete:"off"},null,8,["modelValue"])]),_:1}),t(w,null,{default:a(()=>[t(u,{type:"primary",onClick:x},{default:a(()=>[s("查询")]),_:1})]),_:1})]),_:1},8,["model"])]),t(D,{data:i.list,stripe:"",style:{width:"100%"}},{default:a(()=>[t(o,{fixed:"",label:"订单号",prop:"out_trade_no",width:"150"}),t(o,{label:"就诊医院",prop:"hospital_name"}),t(o,{label:"陪诊服务",prop:"service_name"}),t(o,{label:"陪护师"},{default:a(e=>[t(V,{src:e.row.companion.avatar},null,8,["src"])]),_:1}),t(o,{label:"陪护师手机号",width:"120"},{default:a(e=>[s(h(e.row.companion.mobile),1)]),_:1}),t(o,{label:"总价",prop:"price"}),t(o,{label:"已付",prop:"paidPrice"}),t(o,{label:"下单时间",prop:"order_start_time",width:"120"},{default:a(e=>[s(h(g(L)(e.row.order_start_time).format("YYYY-MM-DD")),1)]),_:1}),t(o,{label:"订单状态"},{default:a(e=>[b("div",Z,[t(P,{type:E(e.row.trade_state)},{default:a(()=>[s(h(e.row.trade_state),1)]),_:2},1032,["type"])])]),_:1}),t(o,{label:"接单状态",prop:"service_state"}),t(o,{label:"联系人手机号",prop:"tel",width:"120"}),t(o,{fixed:"right",label:"操作",width:"100"},{default:a(e=>[e.row.trade_state==="待服务"?(f(),y(B,{key:0,"confirm-button-text":"是","cancel-button-text":"否",icon:g(X),"icon-color":"#626AEF",title:"是否确认完成？",onConfirm:ot=>k(e.row.out_trade_no)},{reference:a(()=>[t(u,{type:"primary",link:""},{default:a(()=>[s("服务完成")]),_:1})]),_:2},1032,["icon","onConfirm"])):(f(),y(u,{key:1,type:"primary",link:"",disabled:""},{default:a(()=>[s("暂无服务")]),_:1}))]),_:1})]),_:1},8,["data"]),b("div",tt,[t(M,{"current-page":_.pageNum,"onUpdate:currentPage":l[1]||(l[1]=e=>_.pageNum=e),size:"small",background:!1,layout:"total, prev, pager, next",total:i.total,onCurrentChange:C},null,8,["current-page","total"])])])}}},lt=Y(et,[["__scopeId","data-v-4ec35b5e"]]);export{lt as default};
